{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction waitForSocket(socket, callback) {\n  setTimeout(function () {\n    socket.readyState === 1 ? callback() : waitForSocket(socket, callback);\n  }, 10);\n}\n\nexports.default = function (socket) {\n  return function (store) {\n    socket.onmessage = function (event) {\n      return store.dispatch(JSON.parse(event.data));\n    };\n\n    return function (next) {\n      return function (action) {\n        if (action.socket && action.socket.send) {\n          if (!action.socket.keepSocket) {\n            var _action = action,\n                _socket = _action.socket,\n                action2 = _objectWithoutProperties(_action, ['socket']);\n\n            action = action2;\n          }\n\n          waitForSocket(socket, function () {\n            return socket.send(JSON.stringify(action));\n          });\n        }\n\n        return next(action);\n      };\n    };\n  };\n};","map":{"version":3,"sources":["/Users/Morgan/Development/stocker/frontend/node_modules/react-redux-websocket/src/index.js"],"names":["exports","__esModule","_objectWithoutProperties","obj","keys","target","i","indexOf","Object","prototype","hasOwnProperty","call","waitForSocket","socket","callback","setTimeout","readyState","default","store","onmessage","event","dispatch","JSON","parse","data","next","action","send","keepSocket","_action","_socket","action2","stringify"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,SAASC,wBAAT,CAAkCC,GAAlC,EAAuCC,IAAvC,EAA6C;AACzC,MAAIC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAT,IAAcH,GAAd,EAAmB;AACf,QAAIC,IAAI,CAACG,OAAL,CAAaD,CAAb,KAAmB,CAAvB,EAA0B;AAC1B,QAAI,CAACE,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,GAArC,EAA0CG,CAA1C,CAAL,EAAmD;AACnDD,IAAAA,MAAM,CAACC,CAAD,CAAN,GAAYH,GAAG,CAACG,CAAD,CAAf;AACH;;AACD,SAAOD,MAAP;AACH;;AAED,SAASO,aAAT,CAAuBC,MAAvB,EAA+BC,QAA/B,EAAyC;AACrCC,EAAAA,UAAU,CAAC,YAAW;AAClBF,IAAAA,MAAM,CAACG,UAAP,KAAsB,CAAtB,GAA0BF,QAAQ,EAAlC,GAAuCF,aAAa,CAACC,MAAD,EAASC,QAAT,CAApD;AACH,GAFS,EAEP,EAFO,CAAV;AAGH;;AAEDd,OAAO,CAACiB,OAAR,GAAkB,UAASJ,MAAT,EAAiB;AAC/B,SAAO,UAASK,KAAT,EAAgB;AACnBL,IAAAA,MAAM,CAACM,SAAP,GAAmB,UAASC,KAAT,EAAgB;AAC/B,aAAOF,KAAK,CAACG,QAAN,CAAeC,IAAI,CAACC,KAAL,CAAWH,KAAK,CAACI,IAAjB,CAAf,CAAP;AACH,KAFD;;AAGA,WAAO,UAASC,IAAT,EAAe;AAClB,aAAO,UAASC,MAAT,EAAiB;AACpB,YAAIA,MAAM,CAACb,MAAP,IAAiBa,MAAM,CAACb,MAAP,CAAcc,IAAnC,EAAyC;AACrC,cAAI,CAACD,MAAM,CAACb,MAAP,CAAce,UAAnB,EAA+B;AAC3B,gBAAIC,OAAO,GAAGH,MAAd;AAAA,gBACII,OAAO,GAAGD,OAAO,CAAChB,MADtB;AAAA,gBAEIkB,OAAO,GAAG7B,wBAAwB,CAAC2B,OAAD,EAAU,CACxC,QADwC,CAAV,CAFtC;;AAMAH,YAAAA,MAAM,GAAGK,OAAT;AACH;;AACDnB,UAAAA,aAAa,CAACC,MAAD,EAAS,YAAW;AAC7B,mBAAOA,MAAM,CAACc,IAAP,CAAYL,IAAI,CAACU,SAAL,CAAeN,MAAf,CAAZ,CAAP;AACH,WAFY,CAAb;AAGH;;AACD,eAAOD,IAAI,CAACC,MAAD,CAAX;AACH,OAhBD;AAiBH,KAlBD;AAmBH,GAvBD;AAwBH,CAzBD","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nfunction _objectWithoutProperties(obj, keys) {\n    var target = {};\n    for (var i in obj) {\n        if (keys.indexOf(i) >= 0) continue;\n        if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n        target[i] = obj[i];\n    }\n    return target;\n}\n\nfunction waitForSocket(socket, callback) {\n    setTimeout(function() {\n        socket.readyState === 1 ? callback() : waitForSocket(socket, callback);\n    }, 10);\n}\n\nexports.default = function(socket) {\n    return function(store) {\n        socket.onmessage = function(event) {\n            return store.dispatch(JSON.parse(event.data));\n        };\n        return function(next) {\n            return function(action) {\n                if (action.socket && action.socket.send) {\n                    if (!action.socket.keepSocket) {\n                        var _action = action,\n                            _socket = _action.socket,\n                            action2 = _objectWithoutProperties(_action, [\n                                'socket'\n                            ]);\n\n                        action = action2;\n                    }\n                    waitForSocket(socket, function() {\n                        return socket.send(JSON.stringify(action));\n                    });\n                }\n                return next(action);\n            };\n        };\n    };\n};\n"]},"metadata":{},"sourceType":"script"}