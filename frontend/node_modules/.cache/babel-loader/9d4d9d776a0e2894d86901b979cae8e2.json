{"ast":null,"code":"var _jsxFileName = \"/Users/Morgan/Development/stocker/frontend/src/containers/Login/Login.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../../actions/loginUser';\nimport Header from '../../components/Header/Header';\nimport { Link, withRouter } from 'react-router-dom';\nimport './Login.css';\nimport axios from 'axios';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: '',\n      password_confirmation: '',\n      errors: ''\n    };\n\n    this.componentDidMount = () => {\n      console.log('user', this.props.user);\n\n      if (this.props.user) {\n        this.props.history.push('/');\n      }\n    };\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      let user = {\n        username: username,\n        password: password\n      };\n      axios.post('http://localhost:3000/login', {\n        user\n      }, {\n        withCredentials: true\n      }).then(response => {\n        if (response.data.logged_in) {\n          this.props.history.push('/');\n        } else {\n          this.setState({\n            errors: response.data.errors\n          });\n        }\n      }).catch(error => console.log('api errors:', error));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, \"WELCOME.\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"username\",\n      name: \"username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }, \"Log in\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, \"New to Stocker? \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 32\n      }\n    }, \"Create an account.\"))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loginUser: (username, id) => dispatch(loginUser(username, id))\n  };\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(Login));","map":{"version":3,"sources":["/Users/Morgan/Development/stocker/frontend/src/containers/Login/Login.js"],"names":["React","Component","connect","loginUser","Header","Link","withRouter","axios","Login","state","username","password","password_confirmation","errors","componentDidMount","console","log","props","user","history","push","handleChange","event","name","value","target","setState","handleSubmit","preventDefault","post","withCredentials","then","response","data","logged_in","catch","error","render","mapDispatchToProps","dispatch","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { loginUser } from '../../actions/loginUser'\nimport Header from '../../components/Header/Header'\nimport { Link, withRouter} from 'react-router-dom';\nimport './Login.css'\nimport axios from 'axios'\n\nclass Login extends Component {\n\n  state = { \n    username: '',\n    password: '',\n    password_confirmation: '',\n    errors: ''\n  };\n\n  componentDidMount = () => {\n\n    console.log('user', this.props.user)\n\n    if (this.props.user) {\n      this.props.history.push('/')\n    }\n\n  }\n  \n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n\n    const {username, password} = this.state\n\n    let user = {\n      username: username,\n      password: password,\n    }\n \n    axios.post('http://localhost:3000/login', {user}, {withCredentials: true})\n    .then(response => {\n      if (response.data.logged_in) {\n        this.props.history.push('/')\n      } else {\n        this.setState({\n          errors: response.data.errors\n        })\n      }\n    })\n    .catch(error => console.log('api errors:', error))\n  };\n\n  render() {\n    return(\n      <div id='login-page'>\n          <Header />\n          <div id=\"login-body\">\n            <h1>WELCOME.</h1>\n            <form onSubmit={this.handleSubmit}>\n            <input \n              type=\"text\" \n              placeholder=\"username\" \n              name=\"username\" \n              value={this.state.username} \n              onChange={this.handleChange} \n              required\n            /> <br />\n            <input \n              type=\"text\" \n              placeholder=\"password\" \n              name=\"password\" \n              value={this.state.password} \n              onChange={this.handleChange} \n              required\n            /> <br />\n              <button>Log in</button>\n          </form>\n            <p>New to Stocker? <Link to=\"/signup\">Create an account.</Link></p>  \n          </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return({\n      loginUser: (username, id) => dispatch(loginUser(username, id))\n  })\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(Login))"]},"metadata":{},"sourceType":"module"}